import{f as p,r as j,n as v,j as e,L as w,i as N,b as u}from"./index-DJ4Ad8or.js";import{C as y}from"./chevron-down-D2PQz-Fo.js";const k=()=>{const[o,i]=p(),[a,c]=j.useState(!1),g=o.get("search")||"",r=o.get("sort")||"",{sections:d,loading:h,error:x,refetch:b}=v();if(h)return e.jsx(w,{});if(x)return e.jsxs("div",{children:["حدث خطأ: ",x]});const m=t=>{i(s=>{const l=new URLSearchParams(s);return t?l.set("search",t):l.delete("search"),l})},n=t=>{i(s=>{const l=new URLSearchParams(s);return l.set("sort",t),l}),c(!1),b()},f=()=>r?r==="createdAt:desc"?"ترتيب بالأحدث":"ترتيب بالأسماء":"الكل";return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 font-sans",children:[e.jsxs("div",{className:"flex flex-col items-end mb-8",children:[e.jsx("h1",{className:"text-center text-3xl md:text-4xl font-bold text-blue-800 mb-4",children:"الأقسام المتاحة"}),e.jsxs("div",{className:"flex flex-col w-full sm:flex-row gap-4 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"...ابحث عن قسم",value:g,onChange:t=>m(t.target.value),className:"w-full py-2 px-4 pr-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600 text-right transition-all duration-200"}),e.jsx(N,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),e.jsxs("div",{className:"relative w-full sm:w-48",children:[e.jsxs("button",{onClick:()=>c(!a),className:"w-full py-2 px-4 rounded-lg border border-gray-300 bg-white text-gray-700 flex items-center justify-between text-right transition-all duration-200 hover:border-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[e.jsx("span",{children:f()}),e.jsx(y,{size:20,className:`transition-transform duration-200 ${a?"rotate-180":""}`})]}),a&&e.jsxs("div",{className:"absolute w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-1000",children:[e.jsx("button",{onClick:()=>n(""),className:`w-full py-2 px-4 text-right transition-all duration-200 ${r?"text-gray-700 hover:bg-blue-100":"bg-blue-100 text-blue-700 font-semibold"}`,children:"الكل"}),e.jsx("button",{onClick:()=>n("createdAt:desc"),className:`w-full py-2 px-4 text-right transition-all duration-200 ${r==="createdAt:desc"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-700 hover:bg-blue-100"}`,children:"ترتيب بالأحدث"}),e.jsx("button",{onClick:()=>n("title:asc"),className:`w-full py-2 px-4 text-right transition-all duration-200 ${r==="title:asc"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-700 hover:bg-blue-100"}`,children:"ترتيب بالأسماء"})]})]})]})]}),e.jsx("div",{className:"flex flex-col lg:flex-row-reverse gap-6 relative",dir:"rtl",children:e.jsx("div",{className:"flex-1",children:d.length===0?e.jsx("div",{className:"text-center p-8 text-gray-600",children:"لا توجد أقسام متاحة حاليًا."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:d.map(t=>{var s;return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden h-[320px] flex flex-col hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative h-36 overflow-hidden",children:[e.jsx("img",{src:(s=t.image)==null?void 0:s.cardImage,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-2 text-right line-clamp-2 truncate",children:t.title}),e.jsx("p",{className:"text-gray-600 text-right text-sm flex-1 mb-3 leading-relaxed truncate",children:t.subTitle&&t.subTitle.length>100?`${t.subTitle.substring(0,100)}...`:t.subTitle||"لا يوجد وصف"}),e.jsxs("div",{className:"flex gap-2 justify-end mt-auto",children:[e.jsx(u,{to:`/BookADeal/section/${t._id}`,className:"bg-blue-600 text-white py-2 px-4 rounded-lg cursor-pointer hover:bg-blue-700 transition-all duration-200 text-sm",children:"احجز موعد"}),e.jsx(u,{to:`/section/${t._id}`,className:"bg-gray-100 text-gray-800 py-2 px-4 rounded-lg cursor-pointer hover:bg-gray-200 transition-all duration-200 text-sm",children:"التفاصيل"})]})]})]},t._id)})})})})]})};export{k as default};
