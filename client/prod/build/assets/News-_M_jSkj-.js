import{f,r as u,k as p,j as e,i as j,L as v,A as w,b as y}from"./index-DJ4Ad8or.js";import{C as N}from"./chevron-down-D2PQz-Fo.js";const S=({sortOption:t,onSortChange:s})=>{const[r,a]=u.useState(!1),n=()=>{switch(t){case"createdAt:desc":return"الأحدث";case"createdAt:asc":return"الأقدم";case"title:asc":return"ترتيب بالأسماء";default:return"الأحدث"}};return e.jsxs("div",{className:"relative w-full sm:w-48",children:[e.jsxs("button",{onClick:()=>a(!r),className:"w-full py-3 px-4 rounded-xl border border-gray-200 bg-white text-gray-700 flex items-center justify-between text-right transition-all duration-200 hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("span",{children:n()}),e.jsx(N,{size:20,className:`transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:[e.jsx("button",{onClick:()=>{s("createdAt:desc"),a(!1)},className:`w-full py-2 px-4 text-right transition-all duration-200 ${t==="createdAt:desc"?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-blue-50"}`,children:"الأحدث"}),e.jsx("button",{onClick:()=>{s("createdAt:asc"),a(!1)},className:`w-full py-2 px-4 text-right transition-all duration-200 ${t==="createdAt:asc"?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-blue-50"}`,children:"الأقدم"}),e.jsx("button",{onClick:()=>{s("title:asc"),a(!1)},className:`w-full py-2 px-4 text-right transition-all duration-200 ${t==="title:asc"?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700 hover:bg-blue-50"}`,children:"ترتيب بالأسماء"})]})]})},C=({news:t})=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 h-full flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[e.jsx("img",{src:t.image.cardImage,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[e.jsx(w,{fontSize:"small"}),e.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("ar-EG")})]}),e.jsx("h3",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors duration-200",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 text-sm",children:t.subTitle}),e.jsx(y,{to:`/news/${t._id}`,className:"mt-auto inline-flex items-center justify-center text-blue-600 border border-blue-600 rounded-lg py-2 px-4 hover:bg-blue-50 transition-all duration-200 text-sm font-medium",children:"اقرأ المزيد"})]})]})}),A=({data:t,loading:s})=>e.jsx("div",{children:s?e.jsx(v,{}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t==null?void 0:t.map(r=>e.jsx(C,{news:r},r._id))})}),k=({page:t,totalPages:s,onPageChange:r,loading:a})=>s<=1?null:e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[e.jsx("button",{onClick:()=>r(Math.max(t-1,1)),disabled:t===1||a,className:"bg-white text-blue-600 border border-blue-600 py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-50 transition-all duration-200 font-medium",children:"السابق"}),e.jsxs("span",{className:"text-gray-600 font-medium",children:["الصفحة ",t," من ",s]}),e.jsx("button",{onClick:()=>r(t+1),disabled:t===s||a,className:"bg-blue-600 text-white py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-all duration-200 font-medium",children:"التالي"})]});function $(){const[t,s]=f(),[r,a]=u.useState(t.get("search")||""),{news:n,loading:c,error:d,totalPages:x,page:m,handlePageChange:h}=p(),b=i=>{a(i),s(o=>{const l=new URLSearchParams(o);return i.trim()?l.set("search",i.trim()):l.delete("search"),l.set("page","1"),l})},g=i=>{s(o=>{const l=new URLSearchParams(o);return l.set("sort",i),l.set("page","1"),l})};return d?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 text-red-600 px-6 py-4 rounded-lg shadow-sm",children:d})}):e.jsx("div",{className:"container mx-auto my-10 px-4",style:{direction:"rtl"},children:e.jsxs("div",{className:"grid gap-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-xl",children:[e.jsx("input",{type:"text",value:r,onChange:i=>b(i.target.value),className:"w-full border border-gray-200 rounded-xl py-3 px-6 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm",placeholder:"ابحث عن خبر...","aria-label":"Search"}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(j,{size:20})})]}),e.jsx(S,{sortOption:t.get("sort")||"createdAt:desc",onSortChange:g})]}),e.jsx(A,{data:n,loading:c}),e.jsx(k,{page:m,totalPages:x,onPageChange:h,loading:c})]})})}export{$ as default};
